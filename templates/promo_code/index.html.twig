{% extends 'base.html.twig' %}

{% block title %}Promo Codes{% endblock %}

{% block body %}
	{% include "navbar.html.twig" %}

<div class="admin">
	{% include "admin_sidebar.html.twig" %}
	<div class="app">
		<div class="promo-code">
			<div class="title d-flex justify-content-between align-items-center">
				<h3>Promo Code</h3>
				<a href="{{path("app_coupon_generate")}}" class="link-button">Generate a coupon</a>
			</div>
			{% if codes %}
				<table class="table table-hover all-transactions">
						<thead>
								<tr>
										<th scope="col">#</th>
										<th scope="col">Value</th>
										<th scope="col">Discount</th>
										<th scope="col">Expiration Date</th>
										<th scope="col">Usage</th>
								</tr>
						</thead>
						<tbody>
						{% for code in codes %}
								<tr>
										<th scope="row">{{code.id}}</th>
										<td>{{code.value}}</td>
										<td>{{code.discountRate * 100 }}%</td>
										<td>{{code.expirationDate|date("d m y")}}</td>
										<td>{{code.used ? "Expired" : "Available"}}</td>
								</tr>
						{% endfor %}
						</tbody>
				</table>
			{% else %}
				<p>No promo code available.</p>
			{% endif %}
		</div>
	</div>
</div>



{% endblock %}

